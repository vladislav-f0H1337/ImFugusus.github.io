<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fugu Clicker | Save & Custom</title>
    <style>
        /* --- –î–ò–ó–ê–ô–ù (CSS) --- */
        :root {
            --bg-color: #121212;
            --card-bg: #1e1e1e;
            --accent: #bb86fc; 
            --gold: #ffd700;
            --danger: #cf6679;
            --text: #e0e0e0;
        }

        body {
            font-family: 'Courier New', Courier, monospace;
            background-color: var(--bg-color);
            color: var(--text);
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            user-select: none; /* –ß—Ç–æ–±—ã —Ç–µ–∫—Å—Ç –Ω–µ –≤—ã–¥–µ–ª—è–ª—Å—è –ø—Ä–∏ –∫–ª–∏–∫–∞—Ö */
        }

        h1, h2, h3 { margin: 0; font-weight: normal; }

        /* –®–∞–ø–∫–∞ */
        header {
            width: 100%;
            padding: 20px;
            background: rgba(30, 30, 30, 0.8);
            border-bottom: 1px solid #333;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
            position: sticky;
            top: 0;
            z-index: 10;
            backdrop-filter: blur(5px);
        }

        .input-group { display: flex; gap: 10px; }
        
        input {
            background: #000;
            border: 1px solid #444;
            color: var(--accent);
            padding: 8px;
            font-family: inherit;
            text-align: center;
            outline: none;
        }

        button {
            cursor: pointer;
            font-family: inherit;
            font-weight: bold;
            transition: 0.2s;
        }

        .save-btn {
            background: var(--accent);
            border: none;
            color: #000;
            padding: 8px 15px;
        }
        
        .save-btn:hover { opacity: 0.8; }

        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç */
        main {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 40px;
            padding: 40px 20px;
            width: 100%;
            max-width: 500px;
        }

        /* –ë–∞–ª–∞–Ω—Å */
        .score-board {
            font-size: 2.5rem;
            color: var(--gold);
            text-shadow: 0 0 15px rgba(255, 215, 0, 0.2);
            font-weight: bold;
        }

        /* –§—É–≥—É –ö–ª–∏–∫–µ—Ä */
        .fugu-container {
            cursor: pointer;
            transition: transform 0.05s;
            -webkit-tap-highlight-color: transparent;
        }
        .fugu-container:active { transform: scale(0.92); }

        .fugu-emoji {
            font-size: 140px;
            filter: drop-shadow(0 0 30px rgba(187, 134, 252, 0.3));
        }

        /* –°–ª–æ—Ç—ã (Custom Design) */
        .slots-machine {
            background: linear-gradient(145deg, #252525, #1a1a1a);
            padding: 25px;
            border-radius: 15px;
            border: 1px solid #333;
            box-shadow: 0 10px 20px rgba(0,0,0,0.5);
            width: 100%;
            text-align: center;
        }

        .slots-window {
            background: #000;
            border: 2px solid #555;
            border-radius: 10px;
            margin: 20px 0;
            padding: 15px;
            display: flex;
            justify-content: center;
            gap: 15px;
            font-size: 3rem;
            overflow: hidden;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –∫–∞–∂–¥–æ–≥–æ —Å–∏–º–≤–æ–ª–∞ */
        .slot-item {
            width: 60px;
            text-align: center;
        }

        .spin-btn {
            background: var(--danger);
            color: #fff;
            border: none;
            padding: 15px 0;
            width: 100%;
            font-size: 1.2rem;
            text-transform: uppercase;
            border-radius: 5px;
            box-shadow: 0 5px 0 #914552; /* 3D —ç—Ñ—Ñ–µ–∫—Ç –∫–Ω–æ–ø–∫–∏ */
        }
        .spin-btn:active {
            box-shadow: 0 2px 0 #914552;
            transform: translateY(3px);
        }
        .spin-btn:disabled {
            background: #555;
            box-shadow: none;
            cursor: not-allowed;
            transform: translateY(3px);
        }

        /* –õ–∏–¥–µ—Ä–±–æ—Ä–¥ */
        .leaderboard {
            width: 100%;
            background: var(--card-bg);
            border: 1px solid #333;
            border-radius: 10px;
            padding: 15px;
        }
        .row {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #2a2a2a;
        }
        .durov { color: #0088cc; font-weight: bold; }
        .you { color: var(--accent); font-weight: bold; }

        /* –ü–æ–¥–≤–∞–ª */
        footer {
            margin-top: auto;
            padding: 20px;
            text-align: center;
            border-top: 1px solid #333;
            width: 100%;
            background: #000;
        }
        
        .warning {
            color: #555;
            font-size: 0.65rem;
            border: 1px solid #333;
            padding: 10px;
            margin-bottom: 15px;
            display: inline-block;
        }

        .reset-btn {
            background: transparent;
            border: 1px solid #444;
            color: #666;
            font-size: 0.7rem;
            padding: 5px 10px;
            margin-top: 10px;
        }
    </style>
</head>
<body>

    <header>
        <h1 style="letter-spacing: 3px;">FUGU CLICKER</h1>
        <div class="input-group">
            <input type="text" id="nicknameInput" placeholder="–¢–≤–æ–π –Ω–∏–∫–Ω–µ–π–º" maxlength="12">
            <button class="save-btn" onclick="setNickname()">–°–û–•–†–ê–ù–ò–¢–¨</button>
        </div>
    </header>

    <main>
        <div class="score-board">
            <span id="score">0</span> <span style="font-size:1rem; color:#888;">$FUGU</span>
        </div>

        <div class="fugu-container" onclick="clickFugu()">
            <div class="fugu-emoji">üê°</div>
        </div>
        <p style="color: #666; font-size: 0.8rem;">Tap to mine crypto</p>

        <div class="slots-machine">
            <h3>üé∞ MEME CASINO üé∞</h3>
            
            <div class="slots-window">
                <div class="slot-item" id="slot1">‚ùì</div>
                <div class="slot-item" id="slot2">‚ùì</div>
                <div class="slot-item" id="slot3">‚ùì</div>
            </div>

            <div id="slot-msg" style="min-height: 20px; margin-bottom: 10px; color: var(--gold);"></div>

            <button class="spin-btn" id="spinBtn" onclick="spinSlots()">
                –ö–†–£–¢–ò–¢–¨ (<span id="costDisplay">500</span>)
            </button>
        </div>

        <div class="leaderboard">
            <h3 style="text-align:center; margin-bottom:10px; color:#fff;">FORBES LIST</h3>
            
            <div class="row">
                <span>1. <span class="durov">Pavel Durov</span> üíé</span>
                <span>&infin;</span>
            </div>

            <div class="row">
                <span class="you" id="leaderboardName">–ê–Ω–æ–Ω–∏–º</span>
                <span id="leaderboardScore">0</span>
            </div>
            
            <div class="row" style="color: #555;">
                <span>3. Elon Musk</span>
                <span>999999</span>
            </div>
        </div>
    </main>

    <footer>
        <div class="warning">
            ‚ö† –í–ù–ò–ú–ê–ù–ò–ï: –°–ò–ú–£–õ–Ø–¢–û–† –ê–ó–ê–†–¢–ù–´–• –ò–ì–†. <br>
            –í—Å–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è —Å–ª—É—á–∞–π–Ω—ã. –ú–æ–Ω–µ—Ç—ã –Ω–µ –∏–º–µ—é—Ç —Ü–µ–Ω–Ω–æ—Å—Ç–∏. <br>
            –ù–µ –∏–≥—Ä–∞–π—Ç–µ –≤ —Ä–µ–∞–ª—å–Ω—ã–µ –∫–∞–∑–∏–Ω–æ, –≤—ã –ø—Ä–æ–∏–≥—Ä–∞–µ—Ç–µ –∫–≤–∞—Ä—Ç–∏—Ä—É.
        </div>
        <br>
        <a href="memes.html" style="color:var(--accent); text-decoration:none; font-size:1.2rem; font-weight:bold;">
            [ üìÇ –°–ï–ö–†–ï–¢–ù–´–ï –ú–ï–ú–´ ]
        </a>
        <br>
        <button class="reset-btn" onclick="resetProgress()">–°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å</button>
    </footer>

    <script>
        /* ================= –ù–ê–°–¢–†–û–ô–ö–ò –°–õ–û–¢–û–í (–ú–û–ñ–ù–û –ú–ï–ù–Ø–¢–¨) ================= */
        // –ú–æ–∂–µ—à—å –º–µ–Ω—è—Ç—å —Å–º–∞–π–ª–∏–∫–∏ –Ω–∞ —Å–≤–æ–∏. –≠—Ç–æ —Ç–≤–æ–∏ "–∫–∞—Å—Ç–æ–º–Ω—ã–µ" —Å–∏–º–≤–æ–ª—ã.
        const slotSymbols = ['üçí', 'üí©', 'ü§°', 'üíÄ', 'üóø', 'üíé', 'üê°']; 
        
        // –¶–µ–Ω–∞ –∑–∞ –ø—Ä–æ–∫—Ä—É—Ç–∫—É
        const spinPrice = 500; 
        
        // –ù–∞–≥—Ä–∞–¥—ã
        const rewards = {
            'üê°': 100000, // –î–∂–µ–∫–ø–æ—Ç (3 —Ä—ã–±—ã)
            'üíé': 50000,  // –ê–ª–º–∞–∑—ã
            'üóø': 25000,  // –ú–æ–∞–∏
            'default': 5000 // –õ—é–±—ã–µ –¥—Ä—É–≥–∏–µ 3 —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è
        };
        /* =================================================================== */

        // –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã
        let gameState = {
            balance: 0,
            nickname: "–ê–Ω–æ–Ω–∏–º"
        };

        // –≠–ª–µ–º–µ–Ω—Ç—ã
        const elScore = document.getElementById('score');
        const elLbScore = document.getElementById('leaderboardScore');
        const elLbName = document.getElementById('leaderboardName');
        const elMsg = document.getElementById('slot-msg');
        const elInput = document.getElementById('nicknameInput');
        const elCost = document.getElementById('costDisplay');
        const elSlot1 = document.getElementById('slot1');
        const elSlot2 = document.getElementById('slot2');
        const elSlot3 = document.getElementById('slot3');
        const elSpinBtn = document.getElementById('spinBtn');

        // --- 1. –ó–ê–ì–†–£–ó–ö–ê –ò –°–û–•–†–ê–ù–ï–ù–ò–ï (–ò–ù–í–ï–ù–¢–ê–†–¨) ---

        // –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
        window.onload = function() {
            elCost.innerText = spinPrice;
            loadGame();
        };

        function saveGame() {
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ–±—ä–µ–∫—Ç gameState –≤ –ø–∞–º—è—Ç—å –±—Ä–∞—É–∑–µ—Ä–∞
            localStorage.setItem('fuguClickerSave', JSON.stringify(gameState));
        }

        function loadGame() {
            const savedData = localStorage.getItem('fuguClickerSave');
            if (savedData) {
                gameState = JSON.parse(savedData);
            }
            // –û–±–Ω–æ–≤–ª—è–µ–º –≤–∏–¥
            updateUI();
            elInput.value = gameState.nickname !== "–ê–Ω–æ–Ω–∏–º" ? gameState.nickname : "";
        }

        function resetProgress() {
            if(confirm("–¢–æ—á–Ω–æ —É–¥–∞–ª–∏—Ç—å –≤–µ—Å—å –ø—Ä–æ–≥—Ä–µ—Å—Å?")) {
                localStorage.removeItem('fuguClickerSave');
                location.reload();
            }
        }

        // --- 2. –ò–ì–†–û–í–ê–Ø –õ–û–ì–ò–ö–ê ---

        function updateUI() {
            elScore.innerText = gameState.balance;
            elLbScore.innerText = gameState.balance;
            elLbName.innerText = gameState.nickname;
            
            // –ï—Å–ª–∏ –±–∞–ª–∞–Ω—Å –º–µ–Ω—å—à–µ —Ü–µ–Ω—ã —Å–ø–∏–Ω–∞, –∫–Ω–æ–ø–∫–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å–µ—Ä–æ–π (–≤–∏–∑—É–∞–ª—å–Ω–æ)
            if(gameState.balance < spinPrice) {
                elSpinBtn.style.opacity = "0.5";
            } else {
                elSpinBtn.style.opacity = "1";
            }
        }

        function clickFugu() {
            gameState.balance++;
            updateUI();
            saveGame(); // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∫–∞–∂–¥—ã–π –∫–ª–∏–∫ (–∏–ª–∏ –º–æ–∂–Ω–æ —Ä–µ–∂–µ)
        }

        function setNickname() {
            const val = elInput.value.trim();
            if(val) {
                gameState.nickname = val;
                updateUI();
                saveGame();
                alert("–ù–∏–∫ –æ–±–Ω–æ–≤–ª–µ–Ω –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω!");
            }
        }

        // --- 3. –õ–û–ì–ò–ö–ê –°–õ–û–¢–û–í ---

        function spinSlots() {
            if (gameState.balance < spinPrice) {
                elMsg.innerText = "–ú–∞–ª–æ –¥–µ–Ω–µ–≥! –ö–ª–∏–∫–∞–π —Ñ—É–≥—É!";
                elMsg.style.color = "var(--danger)";
                return;
            }

            // –°–ø–∏—Å–∞–Ω–∏–µ
            gameState.balance -= spinPrice;
            updateUI();
            saveGame();

            // –°—Ç–∞—Ä—Ç –∞–Ω–∏–º–∞—Ü–∏–∏
            elSpinBtn.disabled = true;
            elMsg.innerText = "Rolling...";
            elMsg.style.color = "#fff";

            let spins = 0;
            // –ë—ã—Å—Ç—Ä–∞—è —Å–º–µ–Ω–∞ —Å–∏–º–≤–æ–ª–æ–≤ (—ç—Ñ—Ñ–µ–∫—Ç –≤—Ä–∞—â–µ–Ω–∏—è)
            const animationInterval = setInterval(() => {
                elSlot1.innerText = getRandomSymbol();
                elSlot2.innerText = getRandomSymbol();
                elSlot3.innerText = getRandomSymbol();
                spins++;
                
                if(spins > 15) { // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ "–º–µ–ª—å–∫–∞–Ω–∏–π"
                    clearInterval(animationInterval);
                    finalizeResult();
                }
            }, 80); // –°–∫–æ—Ä–æ—Å—Ç—å —Å–º–µ–Ω—ã
        }

        function finalizeResult() {
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ä–µ–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            const res1 = getRandomSymbol();
            const res2 = getRandomSymbol();
            const res3 = getRandomSymbol();

            elSlot1.innerText = res1;
            elSlot2.innerText = res2;
            elSlot3.innerText = res3;
            
            elSpinBtn.disabled = false;

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø–æ–±–µ–¥—É (3 –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö)
            if (res1 === res2 && res2 === res3) {
                // –ò—â–µ–º –Ω–∞–≥—Ä–∞–¥—É –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö, –∏–ª–∏ –±–µ—Ä–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω—É—é
                const prize = rewards[res1] || rewards['default'];
                
                gameState.balance += prize;
                elMsg.innerText = `JACKPOT!!! +${prize}`;
                elMsg.style.color = "var(--gold)";
                
                // –≠—Ñ—Ñ–µ–∫—Ç –ø–æ–±–µ–¥—ã
                elSlot1.style.textShadow = "0 0 10px white";
                setTimeout(() => elSlot1.style.textShadow = "none", 1000);
            } else {
                elMsg.innerText = "–õ—É–¥–∫–∞ ‚Äî –∑–ª–æ. –ü–æ–ø—Ä–æ–±—É–π –µ—â–µ.";
                elMsg.style.color = "#666";
            }

            updateUI();
            saveGame();
        }

        function getRandomSymbol() {
            const randomIndex = Math.floor(Math.random() * slotSymbols.length);
            return slotSymbols[randomIndex];
        }

    </script>
</body>
</html>
